<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>random colors</title>
        <link rel="stylesheet" href="color.css" />
    </head>
    <body>
        <div id="wrapper">
            <h1>mkcolor</h1>
            <button type="button" id="rando">Change colors</button>
            <div id="colors">
                <div id="demo">
                    <input type="radio" name="nav-tab" class="nav-radio" id="nav-rust" checked />
                    <input type="radio" name="nav-tab" class="nav-radio" id="nav-js" />
                    <input type="radio" name="nav-tab" class="nav-radio" id="nav-ui" />
                    <div id="tabs">
                        <label for="nav-rust" id="label-rust" class="tab">Rust</label>
                        <label for="nav-js" id="label-js" class="tab">JavaScript</label>
                        <label for="nav-ui" id="label-ui" class="tab">UI</label>
                    </div>
                    <div id="blocks">
                        <pre id="block-rust">
<span class="linenr">  1 </span><span class="comment">// Definition modified from the Rust standard library</span>
<span class="linenr">  2 </span><span class="comment">// <span class="todo">XXX</span>: This is missing the stability/internal attributes</span>
<span class="linenr">  3 </span><span class="special">/// The `Option` type.</span>
<span class="linenr">  4 </span><span class="special">///</span>
<span class="linenr">  5 </span><span class="special">/// ```</span>
<span class="linenr">  6 </span><span class="special">/// </span><span class="statement">let</span> my_opt = <span class="constant">Some</span>(<span class="constant">5</span>);
<span class="linenr">  7 </span><span class="special">/// ```</span>
<span class="linenr">  8 </span><span class="preproc">#[derive(<span class="type">Copy</span>, <span class="type">PartialEq</span>, <span class="type">PartialOrd</span>, <span class="type">Eq</span>, <span class="type">Ord</span>, <span class="type">Debug</span>, <span class="type">Hash</span>)]</span>
<span class="linenr">  9 </span><span class="statement">pub</span> <span class="statement">enum</span> <span class="identifier">Option</span>&lt;T&gt; {
<span class="linenr"> 10 </span>    <span class="special">/// No value</span>
<span class="linenr"> 11 </span>    <span class="identifier">None</span>,
<span class="linenr"> 12 </span>    <span class="special">/// Some value `T`</span>
<span class="linenr"> 13 </span>    <span class="identifier">Some</span>(T),
<span class="linenr"> 14 </span>}</pre>
                        <pre id="block-js">
<span class="linenr">  1 </span><span class="comment">// Create a new color object with the given RBG values, and, if present,</span>
<span class="linenr">  2 </span><span class="comment">// the given ANSI index.</span>
<span class="linenr">  3 </span><span class="statement">function</span> newColor(r, g, b, idx) <span class="statement">{</span>
<span class="linenr">  4 </span>    <span class="identifier">let</span> col = <span class="statement">{</span> r: r, g: g, b: b <span class="statement">}</span>;
<span class="linenr">  5 </span>    <span class="identifier">let</span> rStr = col.r.toString(16).padStart(2, <span class="constant">'0'</span>).toUpperCase();
<span class="linenr">  6 </span>    <span class="identifier">let</span> gStr = col.g.toString(16).padStart(2, <span class="constant">'0'</span>).toUpperCase();
<span class="linenr">  7 </span>    <span class="identifier">let</span> bStr = col.b.toString(16).padStart(2, <span class="constant">'0'</span>).toUpperCase();
<span class="linenr">  8 </span>    col.hex = <span class="constant">`#<span class="special">${rStr}${gStr}${bStr}</span>`</span>;
<span class="linenr">  9 </span>    col.text = <span class="constant">`#<span class="special">${rStr}${gStr}${bStr}</span>`</span>;
<span class="linenr"> 10 </span>
<span class="linenr"> 11 </span>    <span class="statement">if</span> (idx) <span class="statement">{</span>
<span class="linenr"> 12 </span>        col.idx = idx;
<span class="linenr"> 13 </span>        col.text += <span class="constant">` (ANSI <span class="special">${idx}</span>)`</span>;
<span class="linenr"> 14 </span>    <span class="statement">}</span>
<span class="linenr"> 15 </span>
<span class="linenr"> 16 </span>    <span class="statement">return</span> col;
<span class="linenr"> 17 </span>}</pre>
                        <pre id="block-ui">
<span class="linenr">  1 </span>              <span class="cursorcolumn"> </span>
<span class="linenr">  2 </span>              <span class="cursorcolumn"> </span>
<span class="linenr">  3 </span><span class="cursorline">the cursor is <span class="cursor">h</span>ere</span>
<span class="linenr">  4 </span>
<span class="linenr">  5 </span>check out <span class="visual">visual mode</span>
<span class="linenr">  6 </span>
<span class="linenr">  7 </span>looking for <span class="incsearch">something</span>?
<span class="linenr">  8 </span>maybe it's <span class="search">already here</span>
<span class="linenr">  9 </span>
<span class="linenr"> 10 </span><span class="cursor">(</span>matching parens<span class="matchparen">)</span>
<span class="linenr"> 11 </span>
<span class="linenr"> 12 </span>Looks like <span class="spellbad">thsi</span> word is spelled wrong
<span class="linenr"> 13 </span><span class="spellcap">lowercase</span> words get flagged too
<span class="linenr"> 14 </span>the word <span class="spellrare">vim</span> is a "rare" word
<span class="linenr"> 15 </span>and "<span class="spelllocal">okay</span>" is a "local" word
<span class="linenr"> 16 </span>
<span class="statusline">UI Demo<span class="status-right">3,15           Top</span></span>
</pre>
                    </div>
                </div>
                <div id="palette-box">
                    <div id="details" class="top-col">
                        <div id="ratio-wrap">
                            Contrast ratio: <span id="ratio">21</span>
                        </div>
                        <div id="palette" class="palette">
                            <div>
                                <span class="block" id="bg-block"> </span>
                                Background: <span id="bg-col">#000</span>
                            </div>
                            <div>
                                <span class="block" id="fg-block"> </span>
                                Foreground: <span id="fg-col">#FFF</span>
                            </div>
                            <div>
                                <span class="block" id="comment-block"> </span>
                                Comments: <span id="comment-col">#FFF</span>
                            </div>
                            <div>
                                <span class="block" id="identifier-block"> </span>
                                Identifiers: <span id="identifier-col">#FFF</span>
                            </div>
                            <div>
                                <span class="block" id="constant-block"> </span>
                                Literals: <span id="constant-col">#FFF</span>
                            </div>
                            <div>
                                <span class="block" id="type-block"> </span>
                                Type names: <span id="type-col">#FFF</span>
                            </div>
                            <div>
                                <span class="block" id="statement-block"> </span>
                                Keywords: <span id="statement-col">#FFF</span>
                            </div>
                            <div>
                                <span class="block" id="preproc-block"> </span>
                                Preprocessor: <span id="preproc-col">#FFF</span>
                            </div>
                            <div>
                                <span class="block" id="special-block"> </span>
                                Special tokens: <span id="special-col">#FFF</span>
                            </div>
                            <div>
                                <span class="block" id="spellbad-block"> </span>
                                Incorrect spelling: <span id="spellbad-col">#FFF</span>
                            </div>
                            <div>
                                <span class="block" id="spellcap-block"> </span>
                                Incorrect capitalization: <span id="spellcap-col">#FFF</span>
                            </div>
                            <div>
                                <span class="block" id="spellrare-block"> </span>
                                Rare words: <span id="spellrare-col">#FFF</span>
                            </div>
                            <div>
                                <span class="block" id="spelllocal-block"> </span>
                                Locally-defined words: <span id="spelllocal-col">#FFF</span>
                            </div>
                        </div>
                    </div>
                    <div id="top-col3" class="top-col">
                        <div id="ui-palette" class="palette">
                            <div>
                                <span class="block" id="linenr-bg-block"> </span>
                                Line number background: <span id="linenr-bg-col">#000</span>
                            </div>
                            <div>
                                <span class="block" id="linenr-fg-block"> </span>
                                Line number text: <span id="linenr-fg-col">#FFF</span>
                            </div>
                            <div>
                                <span class="block" id="cursor-block"> </span>
                                Cursor: <span id="cursor-col">#FFF</span>
                            </div>
                            <div>
                                <span class="block" id="cursorline-block"> </span>
                                Cursor line: <span id="cursorline-col">#111</span>
                            </div>
                            <div>
                                <span class="block" id="cursorcolumn-block"> </span>
                                Cursor column: <span id="cursorcolumn-col">#111</span>
                            </div>
                            <div>
                                <span class="block" id="visual-block"> </span>
                                Visual selection: <span id="visual-col">#222</span>
                            </div>
                            <div>
                                <span class="block" id="incsearch-block"> </span>
                                Incremental search: <span id="incsearch-col">#222</span>
                            </div>
                            <div>
                                <span class="block" id="search-block"> </span>
                                Search results: <span id="search-col">#222</span>
                            </div>
                            <div>
                                <span class="block" id="matchparen-block"> </span>
                                Matching parentheses: <span id="matchparen-col">#222</span>
                            </div>
                            <div>
                                <span class="block" id="statusline-fg-block"> </span>
                                Status line foreground: <span id="statusline-fg-col">#FFF</span>
                            </div>
                            <div>
                                <span class="block" id="statusline-bg-block"> </span>
                                Status line background: <span id="statusline-bg-col">#FFF</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <hr />
            <div id="settings">
                <div class="form-block">
                    <input type="checkbox" id="use-ansi" name="use-ansi" />
                    <label for="use-ansi">Use ANSI terminal colors</label>
                </div>
                <div class="form-block">
                    <div>Contrast with background:</div>
                    <div>
                        <input type="radio" id="v-hi-con" name="contrast" value="v-hi" />
                        <label for="v-hi-con">Require <abbr title="Contrast ratio greater than 7">high contrast</abbr></label>
                    </div>
                    <div>
                        <input type="radio" id="hi-con" name="contrast" value="hi" />
                        <label for="hi-con">Require <abbr title="Contrast ratio greater than 4.5">medium contrast</abbr></label>
                    </div>
                    <div>
                        <input type="radio" id="lo-con" name="contrast" value="lo" checked />
                        <label for="lo-con">Allow <abbr title="Contrast ratio as low as 3">low contrast</abbr></label>
                    </div>
                    <div>
                        <input type="radio" id="any-con" name="contrast" value="any" />
                        <label for="any-con">Allow any contrast</label>
                    </div>
                </div>
                <div class="form-block">
                    <div>UI frame background contrast (against main background):</div>
                    <div>
                        <input type="radio" id="ui-lo" name="ui-contrast" value="lo" checked />
                        <label for="ui-lo">Require <abbr title="Contrast ratio below 3">low contrast</abbr></label>
                    </div>
                    <div>
                        <input type="radio" id="ui-hi" name="ui-contrast" value="hi" />
                        <label for="ui-hi">Require <abbr title="Contrast ratio greater than 4.5">medium or higher contrast</abbr></label>
                    </div>
                    <div>
                        <input type="radio" id="ui-any" name="ui-contrast" value="any" />
                        <label for="ui-any">Allow any contrast</label>
                    </div>
                </div>
                <div class="form-block">
                    <div>
                        <input type="checkbox" id="cursorcolumn-same" value="cursorcolumn-same" checked />
                        <label for="cursorcolumn-same">Cursor column = Cursor line</label>
                    </div>
                    <div>
                        <input type="checkbox" id="bg-distinct" value="bg-distinct" checked />
                        <label for="bg-distinct">Force highlight colors to be <abbr title="See below">distinct</abbr> from the background</label>
                    </div>
                    <div>
                        <input type="checkbox" id="fg-distinct" value="fg-distinct" checked />
                        <label for="fg-distinct">Force text colors to be <abbr title="See below">distinct</abbr> from each other</label>
                    </div>
                    <div>
                        <input type="checkbox" id="spell-red" value="spell-red" checked />
                        <label for="spell-red">
                            Force "Incorrect spelling" to be
                            <abbr title="Hue between +36 and -36 degrees">"reddish"</abbr>
                        </label>
                    </div>
                </div>
            </div>
            <hr />
            <div id="about">
                <p><a href="https://github.com/QuietMisdreavus/mkcolor">Source code</a></p>
                <p>
<b>mkcolor</b> is an experiment in randomly generating text-editor color schemes. Using the
<a href="https://www.w3.org/TR/WCAG20/#contrast-ratiodef">WCAG definition of contrast ratio</a>, the
<a href="https://en.wikipedia.org/wiki/CIELAB_color_space">CIELAB color space</a>, and a lot of
random numbers, this code can (most of the time) generate something that is pretty legible,
according to some basic parameters.
                </p>
                <p>
When generating a color scheme, the base contrast ratio between the background color and the main
foreground color is displayed, alongside all the other colors generated. The color list is available
in case you would like to use a generated color scheme in your own editor or project.
                </p>
                <p>
In addition to settings that tweak things like the minimum acceptable contrast ratio or restraints
on whether certain categories of colors should be "distinct", an option is available to use
<a href="https://en.wikipedia.org/wiki/ANSI_escape_code#8-bit">8-bit ANSI terminal color codes</a>
instead of 24-bit RGB color. This allows you to use these colors in a terminal text editor, like
non-GUI Vim. When this setting is active, the ANSI code for any given color will be given alongside
its 24-bit hex code.
                </p>
                <p>
When deciding whether two colors are "distinct", <b>mkcolor</b> uses both the contrast ratio as well
as a Euclidean distance in the CIELAB color space. If the contrast ratio is greater than 1.1 and the
CIELAB distance is greater than 20, then two colors are considered "distinct".
                </p>
                <p>
This project owes its inspiration and existence to a number of resources, including (but not limited
to):
<ul>
    <li>The <a href="https://botsin.space/@randomColorContrasts">Random Color Contrasts</a> Mastodon
        bot, and its source data, <a href="https://randoma11y.com/">randoma11y.com</a>, for the
        initial inspiration to combine colors together randomly and make something beautiful out of
        it</li>
    <li><a href="http://vim-ink.github.io/">vim.ink</a>, a Vim color scheme designer, with a
        practically-exhaustive list of potential items to add to a color scheme</li>
    <li>The equations on the WCAG documentation, and in the Wikipedia articles mentioned above</li>
    <li><a href="https://developer.mozilla.org">Mozilla Developer Network</a>, because i learned a
        lot about CSS and JavaScript while writing this</li>
</ul>
                </p>
            </div>
        </div>
        <script src="base-color.js"></script>
        <script src="random.js"></script>
        <script src="color.js"></script>
    </body>
</html>
